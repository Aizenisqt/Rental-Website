@page
@model RentalSite.Pages.Account.LoginAndRegisterModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login/Signup Form</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/RentalPlace.styles.css" asp-append-version="true" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>

<div class="gradient">

        @if (!ViewData.ModelState.IsValid)
        {
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <div class="alert alert-warning d-flex align-items-center" role="alert">
                    <div>
                       @error.ErrorMessage
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            }
        }
    <h1 style="text-align:center; padding-top:200px;">Start your journey with us!</h1>
        <div class="d-flex justify-content-center" style="">

            <button style="width:120px" type="button" class="btn btn-outline-primary m-3" data-bs-toggle="modal" data-bs-target="#Register">Register</button>
            <button style="width:120px" type="button" class="btn btn-outline-success m-3" data-bs-toggle="modal" data-bs-target="#Login">Login</button>
        </div>

        @* this is for register form *@
        <div class="modal fade" id="Register" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content" id="RegisterBg">
                    <div class="modal-header">
                        <h1 class="modal-title fs-3" id="staticBackdropLabel">Sign Up</h1>

                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form method="post" asp-page-handler="CreateUser">
                          
                           
                            <div class="input-box">
                                <input type="text" placeholder="Username (space is not allowed)" asp-for="Register.UserName" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="text" placeholder="Full Name" asp-for="Register.FullName" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="email" placeholder="Email" asp-for="Register.Email" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="text" placeholder="Gender" asp-for="Register.Gender" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="date" placeholder="Birth Date" asp-for="Register.Birthday" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="tel" placeholder="Phone Number" asp-for="Register.PhoneNumber" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="password" placeholder="Password" asp-for="Register.Password" required>
                                <i class='bx bxs-lock-alt'></i>
                            </div>
                            <div class="input-box">
                                <input type="password" placeholder="Confirm Password" asp-for="Register.ConfirmPassword" required>
                                <i class='bx bxs-lock-alt'></i>
                            </div>
                            <div class="forgot-link">
                                <a href="#">Forgot Password?</a>
                            </div>
                            <p>or login with social platforms</p>
                            <div class="social-icons">
                                <a href="#"><i class='bx bxl-google'></i></a>
                                <a href="#"><i class='bx bxl-facebook'></i></a>
                                <a href="#"><i class='bx bxl-github'></i></a>
                                <a href="#"><i class='bx bxl-linkedin'></i></a>
                            </div>
                            <div class="d-flex">
                                <button type="button" class="btn btn-outline-danger m-3  w-100" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-success m-3 w-100">Sign up</button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

        @* this is for login form *@
        <div class="modal fade" id="Login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content" id="LoginBG">
                    <div class="modal-header">
                        <h1 class="modal-title fs-3" id="staticBackdropLabel">Login</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form method="post" asp-page-handler="UserLogin">
                                                                  
                            <div class="input-box">
                                <input type="text" placeholder="Username" asp-for="Login.LoginUserName" required>
                                <i class='bx bxs-user'></i>
                            </div>
                            <div class="input-box">
                                <input type="password" placeholder="Password" asp-for="Login.LoginPassword" required>
                                <i class='bx bxs-lock-alt'></i>
                            </div>
                            <div class="forgot-link">
                                <a href="#">Forgot Password?</a>
                            </div>
                            <p>or login with social platforms</p>
                            <div class="social-icons">
                                <a href="#"><i class='bx bxl-google'></i></a>
                                <a href="#"><i class='bx bxl-facebook'></i></a>
                                <a href="#"><i class='bx bxl-github'></i></a>
                                <a href="#"><i class='bx bxl-linkedin'></i></a>
                            </div>
                            <div class="d-flex">
                                <button type="button" class="btn btn-outline-danger m-3  w-100" data-bs-dismiss="modal">Close</button>
                                <button type="submit" class="btn btn-outline-success m-3 w-100">Login</button>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

</div>

   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
    <script>

             document.addEventListener("DOMContentLoaded", function () {
            var urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get("showModal") === "true") {
                var myModal = new bootstrap.Modal(document.getElementById('Register'));
                myModal.show();
            }
        });






        //this is for register form
        const Register = document.getElementById('Register')
        if (Register) {
          Register.addEventListener('show.bs.modal', event => {
            
            const recipient = button.getAttribute('data-bs-whatever')

            const modalTitle = Register.querySelector('.modal-title')
            const modalBodyInput = Register.querySelector('.modal-body input')

            modalTitle.textContent = `New message to ${recipient}`
            modalBodyInput.value = recipient
          })
        }

        // this is for login form
         const Login = document.getElementById('Login')
        if (Login) {
          Login.addEventListener('show.bs.modal', event => {

            const recipient = button.getAttribute('data-bs-whatever')

            const modalTitle = Login.querySelector('.modal-title')
            const modalBodyInput = Login.querySelector('.modal-body input')

            modalTitle.textContent = `New message to ${recipient}`
            modalBodyInput.value = recipient
          })
        }
    </script>








    @* <div class="loginformbody">
  
        <div class="container">
           
            <div class="form-box login">
               
                <form method="post" asp-page-handler="UserLogin">
                    <partial name="_ValidationScriptsPartial" />
                    <div asp-validation-summary="All"></div>
                    <h1>Login</h1>
                    <div class="input-box">
                        <input type="text" placeholder="Username" asp-for="Login.LoginUserName" required>
                        <i class='bx bxs-user'></i>
                    </div>
                    <div class="input-box">
                        <input type="password" placeholder="Password" asp-for="Login.LoginPassword" required>
                        <i class='bx bxs-lock-alt'></i>
                    </div>
                    <div class="forgot-link">
                        <a href="#">Forgot Password?</a>
                    </div>
                    <button type="submit" class="btn">Login</button>
                    <p>or login with social platforms</p>
                    <div class="social-icons">
                        <a href="#"><i class='bx bxl-google'></i></a>
                        <a href="#"><i class='bx bxl-facebook'></i></a>
                        <a href="#"><i class='bx bxl-github'></i></a>
                        <a href="#"><i class='bx bxl-linkedin'></i></a>
                    </div>
                </form>
            </div>

          
            <div class="form-box register">
                <form method="post" asp-page-handler="CreateUser">
                    <h1>Registration</h1>
                    <partial name="_ValidationScriptsPartial" />
                    <div asp-validation-summary="All"></div>
                    <div class="input-box">
                        <input type="text" placeholder="FullName" asp-for="Register.FullName" required>
                        <i class='bx bxs-user'></i>
                    </div>
                    <div class="input-box">
                        <input type="email" placeholder="Email" asp-for="Register.Email" required>
                        <i class='bx bxs-envelope'></i>
                    </div>
                    <div class="input-box">
                        <input type="password" placeholder="Password" asp-for="Register.Password" required>
                        <i class='bx bxs-lock-alt'></i>
                    </div>
                    <div class="input-box">
                        <input type="password" placeholder="Confirm Password" asp-for="Register.ConfirmPassword" required>
                        <i class='bx bxs-lock-alt'></i>
                    </div>
                  
                     <button type="submit" class="btn">Register</button>
                    <p>or register with social platforms</p>
                    <div class="social-icons">
                        <a href="#"><i class='bx bxl-google'></i></a>
                        <a href="#"><i class='bx bxl-facebook'></i></a>
                        <a href="#"><i class='bx bxl-github'></i></a>
                        <a href="#"><i class='bx bxl-linkedin'></i></a>
                    </div>
                </form>
            </div>

            <div class="toggle-box">
                <div class="toggle-panel toggle-left">
                    <h1>Hello, Welcome!</h1>
                    <p>Don't have an account?</p>
                    <button class="btn register-btn">Register</button>
                </div>

                <div class="toggle-panel toggle-right">
                    <h1>Welcome Back!</h1>
                    <p>Already have an account?</p>
                    <button class="btn login-btn">Login</button>
                </div>
            </div>
        </div>

    </div>


    <script>
                const container = document.querySelector('.container');
        const registerBtn = document.querySelector('.register-btn');
        const loginBtn = document.querySelector('.login-btn');

        registerBtn.addEventListener('click', () => {
            container.classList.add('active');
        })

        loginBtn.addEventListener('click', () => {
            container.classList.remove('active');
        })

         
    </script> *@
</body>
</html>